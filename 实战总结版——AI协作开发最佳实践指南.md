# AI协作开发最佳实践指南

## 目录
1. [高效问题处理](#1-高效问题处理)
   1.1. [问题描述规范](#11-问题描述规范)
   1.2. [渐进式问题诊断](#12-渐进式问题诊断)
2. [高效协作模式](#2-高效协作模式)
   2.1. [渐进式探索](#21-渐进式探索)
   2.2. [代码修改流程](#22-代码修改流程)
3. [文档维护规范](#3-文档维护规范)
   3.1. [代码变更文档](#31-代码变更文档)
   3.2. [经验积累](#32-经验积累)
4. [效率提升技巧](#4-效率提升技巧)
   4.1. [工具使用](#41-工具使用)
   4.2. [交互优化](#42-交互优化)
   4.3. [异常处理](#43-异常处理)
5. [质量保证](#5-质量保证)
   5.1. [代码审查要点](#51-代码审查要点)
   5.2. [测试验证](#52-测试验证)

## 1. 高效问题处理

### 1.1 问题描述规范
- **明确具体目标**
  - 指出具体位置和现象
  - 清晰表达查找目标
  - 提供完整上下文信息


✅ 好的示例：
"当前项目运行后的左上角会循环播出一段文字提示项目star，这部分是在什么代码里实现的"
- 明确指出了具体位置（左上角）
- 描述了具体现象（循环播出文字）
- 清晰表达了查找目标（实现代码位置）

❌ 避免模糊的描述：
"有个文字在动，在哪改？"


- **问题报告模板**
```markdown
### 环境信息
- 系统: [系统类型]
- 环境: [相关版本信息]
- 复现步骤: [详细步骤]

### 关键日志
[相关错误日志]

### 补充说明
[截图/录屏等辅助信息]
```

### 1.2 渐进式问题诊断
1. **现象确认**
   - 明确"实际现象"vs"期望结果"，明确"看到什么"和"期望看到什么"
   - 收集提供关键日志和报错信息：控制台日志、DOM结构等
   - 逐步缩小范围：从整体到局部，从表象到本质

✅ 好的示例：
    1. 首先查看项目根目录结构
    2. 根据目录结构定位可能的文件
    3. 逐步深入相关目录
    4. 最终定位到具体文件和代码

2. **范围定位**
   - 从整体到局部逐步分析
   - 使用console.log输出关键节点信息，添加可视化调试标记
   - 通过隔离测试确认问题源

✅ 好的示例：
    1. 查看项目结构（使用list_files工具）
    2. 识别关键文件（如hooks、组件、配置文件）
    3. 阅读核心文件内容（使用read_file工具）
    4. 总结实现逻辑

    实际案例：
    1. 分析项目结构：
   - 识别出src/hooks/useTurbine.ts为核心业务逻辑
   - 发现src/components中包含多个监测面板组件
   
    2. 深入核心文件：
   ```typescript
   <read_file>
   <path>src/hooks/useTurbine.ts</path>
   </read_file>
   ```
   3. 总结实现逻辑：
   - 3D模型加载与渲染
   - 监测功能实现
   - 可视化效果
   - 核心流程    

3. **方案验证**
   - 制定明确的验证目标，每次只验证一个修改点
   - 准备回退方案，渐进式移除调试代码
   - 记录验证结果

## 2. 高效协作模式

### 2.1 渐进式探索
1. **项目分析**
   - 先了解项目整体结构
   - 识别关键目录和文件
   - 逐步深入相关实现

2. **信息交互**
   - 每次聚焦单一任务，提供明确的信息需求清单
   - 明确期望的结果，描述已尝试的方案
   - 清晰记录操作过程，提供完整的上下文
   - 及时提供反馈确认，设计简单的验证命令，引导交互提供关键信息


### 2.2 代码修改流程
1. **修改前确认**
   - 明确修改范围
   - 主动提示AI不明确的点（‼️查看AI输出内容）
   - 确认关键需求和约束
   - 确认修改内容
   - 评估潜在影响

2. **执行修改**
   - 采用渐进式修改，从简单修改开始逐步增加复杂度
   - 保持代码可回退
   - 及时验证效果

3. **结果确认**
   - 验证功能完整性
   - 确认无副作用
   - 更新相关文档

## 3. 文档维护规范

### 3.1 代码变更文档
```markdown
### 修改说明
- 修改原因：[背景说明]
- 修改范围：[影响文件]
- 主要变更：[具体改动]

### 验证方法
1. [验证步骤1]
2. [验证步骤2]

### 注意事项
- [特殊说明]
- [潜在风险]
```

### 3.2 经验积累
- 通过提问AI记录常见问题解决方案
- 使用AI更新最佳实践指南，及时维护技术文档


## 4. 效率提升技巧

### 4.1 工具使用
- 合理使用文件查看工具
- 善用搜索定位功能
- 保持工具使用记录

### 4.2 交互优化
- 保持对话重点明确
- 采用结构化表达
- 及时总结确认进展

实践要点：
- 每次只关注一个主题
- 在转换话题前总结当前进展
- 主动确认理解是否正确

### 4.3 异常处理
- 预判可能的异常
- 准备备选方案
- 建立错误处理流程

## 5. 质量保证

### 5.1 代码审查要点
- 架构设计合理性
- 实现逻辑清晰度
- 代码可维护性

### 5.2 测试验证
- 功能完整性测试
- 边界条件验证
- 性能影响评估

## 文档信息
- 创建日期：2024-01-24
- 最后更新：2024-01-24
- 文档版本：1.0.0